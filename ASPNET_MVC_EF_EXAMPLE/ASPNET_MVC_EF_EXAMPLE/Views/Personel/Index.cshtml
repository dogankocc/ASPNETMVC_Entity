@model List<ASPNET_MVC_EF_EXAMPLE.Models.Personels>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

    int i = 0;
}

<h2>Personeller</h2>
@Html.ActionLink("Yeni Personel","Add")
<table class="table table-dark">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">ID</th>
            <th scope="col">AD</th>
            <th scope="col">SOYAD</th>
            <th scope="col">MAAŞ</th>
            <th scope="col">YAŞ</th>
            <th scope="col">DOĞUM TARİHİ</th>
            <th scope="col">CİNSİYET</th>
            <th scope="col">MEDENİ DURUM</th>
            <th scope="col">Güncelle</th>
            <th scope="col">Sil</th>
        </tr>

    </thead>

    <tbody>
        @foreach (var p in Model)
        {
            i += 1;
        <tr>
            <th scope="row">@i</th>
            <td>@p.PersonelID</td>
            <td>@p.PersonelName</td>
            <td>@p.PersonelSirname</td>
            <td>@p.PersonelSalary</td>
            <td>@( (DateTime.Now.Year - (p.PersonelBirthdate.HasValue == true ? p.PersonelBirthdate.Value.Year : 0)) == DateTime.Now.Year ? "-" : (DateTime.Now.Year - (p.PersonelBirthdate.HasValue == true ? p.PersonelBirthdate.Value.Year : 0)).ToString() )</td>
            <td>@( ( (p.PersonelBirthdate ?? DateTime.Now) == DateTime.Now ? "-"  : p.PersonelBirthdate.Value.ToString()))</td>
            <td>@(p.PersonelGender == true ? "Erkek" : "Kadın")</td>
            <td>@(p.MarriageStatus == true ? "Evli" : "Bekar")</td>
            <td><a href="/Personel/UpdatePersonel/@p.PersonelID">Güncelle</a></td>
            <td><a href="/Personel/DeletePersonel/@p.PersonelID">Sil</a></td>
        </tr>
        }
    </tbody>
</table>
